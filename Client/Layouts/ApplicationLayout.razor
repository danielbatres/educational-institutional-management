@inherits LayoutComponentBase
@using edu_institutional_management.Shared;

<style>
  :root {
    --primary-color: @SelectedPalette.PrimaryColor;
    --background-color: @SelectedPalette.BackgroundColor;
    --light-background-color: @SelectedPalette.LightBackgroundColor;
    --light-color: @SelectedPalette.LightColor;
    --text-color: @SelectedPalette.TextColor;
    --dark-color: @SelectedPalette.DarkColor;
    --light-primary-color: @SelectedPalette.LightPrimaryColor;
  }
</style>

<div class="page">
  <div class="application-container">
    <div class="left-container" style="@(Toggle ? "width: 280px;" : "width: 100px;")">
      <i class="fi fi-tr-bars-sort icon" @onclick="(() => Toggle = !Toggle)"></i>
      <CascadingValue Value="@Toggle" Name="Toggle">
        <SideBar />
      </CascadingValue>
    </div>
    <div class="right-container">
      <TopBar />
      <main>
        @Body
      </main>
    </div>
  </div>
</div>

@code {
  public bool Toggle { get; set; }
  private Palette SelectedPalette { get; set; } = Theme.LightTheme;

  protected override void OnInitialized() {
    Toggle = true;
  }
}
